<!doctype html>
<html lang="en">
  <head>
      {% load static %}
    <meta charset="utf-8">
{#      <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">#}
{#      <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">#}
{##}
{#      <script type="text/javascript" src="{% static 'js/stylish-portfolio.js' %}"></script>#}
{#<!-- REMEMBER THE ORDER IN WHICH YOU CALL FILES -->#}


{#    <link rel="stylesheet" type="text/css" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap-select.min.css' %}">#}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" src="{% static 'js/jquery-3.6.0.min.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script type="text/javascript" src="{% static 'bootstrap-4.0.0-dist/js/bootstrap.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap-4.0.0-dist/js/bootstrap.bundle.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'bootstrap-4.0.0-dist/css/bootstrap.css' %}">

    <title>API Server</title>
  </head>
  <body>
<script>
    $(document).ready(function() {
    $('.pickHttpReq').change(function () {
        if(this.value === 'GET'){
            $(".enterData").hide();

        }

        if (this.value === 'POST') {
            $(".enterData").show();


        }

        if(this.value === 'PUT') {
            $(".enterData").hide();

        }



    }).change();
})
</script>

{% if messages %}
    <div class="alert alert-danger text-center"  role="alert">
        <ul class="messages">
            {% for message in messages %}

                {{message}}

            {% endfor %}
        </ul>
    </div>

{% endif %}

<section class="pb-5">

    <form method="post" action="/home">
    {% csrf_token %}
    <div class="container">
        <div style="padding: 20px">
            <h3 class="section-title h1">Pizza api</h3>
        </div>


        <div style="padding: 20px">
           <div class="input-group mb-3">
              <div class="input-group-prepend">
                <label class="input-group-text" for="inputGroupSelect01">Options</label>
              </div>
              <select name="httpReq" class="custom-select pickHttpReq" id="inputGroupSelect01">
                <option selected disabled>Select http request</option>
                <option value="GET">GET</option>
                <option value="POST">POST</option>
                <option value="PUT">PUT</option>
              </select>
            </div>
          <div>
              <input type="text" name="URL" placeholder="Enter URL" class="form-control" aria-label="Text input with dropdown button">
        </div>
        </div>


        <div style="padding: 20px; display: none"   class="enterData required" >
            <label>Enter Json data</label>
            <textarea style="white-space: pre-wrap" name="jsonData" class="form-control" id="textarea" required rows="3">
                {{ topic.topicContent }}
            </textarea>
        </div>


         <div style="padding: 20px">
            <button type="submit" class="btn btn-outline-primary">Submit</button>
        </div>


        <div style="padding: 20px">
            <label for="textarea">Response from server </label>
            <textarea style="white-space: pre-wrap" name="topicMaterial" class="form-control" id="textarea" required rows="3">
                {{ data }}
            </textarea>
        </div>





    </div>

    </form>
</section>


  </body>
</html>